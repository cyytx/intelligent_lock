#ifndef _OV2640CFG_H
#define _OV2640CFG_H

#include "ov2640.h" 


/* UXGA初始化寄存器序列表
 * 此模式下帧率为15帧
 * UXGA(1600*1200)
 */
 
const uint8_t ov2640_uxga_init_reg_tbl[][2]= 
{   
    0xff, 0x00,  // 寄存器组选择，选择DSP寄存器组
    0x2c, 0xff,  // 设置DSP预缩放控制
    0x2e, 0xdf,  // 设置DSP后缩放控制
    0xff, 0x01,  // 切换到传感器寄存器组
    0x3c, 0x32,  // 设置SCCB控制寄存器，启用PLL
    
    0x11, 0x00,  // 时钟分频器设置，不分频
    0x09, 0x02,  // 设置行速率控制
 #if (Image_FlipVer) /* 水平镜像,垂直翻转 */
    0x04, 0xA8,  // 镜像控制寄存器，设置水平镜像和垂直翻转，0xA8=10101000
 #else
    //0x04, 0xD8,
    0x04, 0x48,  // 镜像控制寄存器，不设置水平镜像，0x48=01001000
 #endif
    0x13, 0xe5,  // 设置AEC/AGC控制，启用自动曝光和自动增益控制
    0x14, 0x48,  // 设置曝光控制高位
    0x2c, 0x0c,  // 设置控制寄存器
    0x33, 0x78,  // 设置LSC（镜头阴影校正）寄存器
    0x3a, 0x33,  // 设置PCLK分频系数
    0x3b, 0xfB,  // 设置帧率控制寄存器
    
    0x3e, 0x00,  // 设置曝光增益寄存器
    0x43, 0x11,  // 设置彩条测试控制
    0x16, 0x10,  // 设置水平图像滤波参数
    
    0x39, 0x92,  // 设置VFIFO控制寄存器
    
    0x35, 0xda,  // 设置模拟控制寄存器
    0x22, 0x1a,  // 设置快门延迟控制
    0x37, 0xc3,  // 设置ADC控制寄存器
    0x23, 0x00,  // 设置REG决定光照绿色像素输出增益
    0x34, 0xc0,  // 设置模拟控制寄存器
    0x36, 0x1a,  // 设置模拟控制寄存器
    0x06, 0x88,  // 设置AWB控制寄存器
    0x07, 0xc0,  // 设置AWB控制寄存器
    0x0d, 0x87,  // 设置COM4寄存器参数
    0x0e, 0x41,  // 设置COM5寄存器参数
    0x4c, 0x00,  // 设置DBLV寄存器（时钟控制）

    0x48, 0x00,  // COM19寄存器，保留寄存器
    0x5B, 0x00,  // 设置AWB控制寄存器
    0x42, 0x03,  // 设置COM17寄存器，启用DSP色彩条
    
    0x4a, 0x81,  // 设置SDE（特殊数字效果）控制
    0x21, 0x99,  // 设置模拟控制参数
    
    0x24, 0x40,  // 设置曝光参数低位
    0x25, 0x38,  // 设置曝光参数高位
    0x26, 0x82,  // 设置AGC增益参数
    0x5c, 0x00,  // 设置Banding过滤器控制
    0x63, 0x00,  // AWB控制，关闭特殊效果
    0x46, 0x00,  // 设置COM19寄存器
    0x0c, 0x3c,  // 设置COM3寄存器
    
    0x61, 0x70,  // 设置直方图算法参数
    0x62, 0x80,  // 设置直方图算法参数
    0x7c, 0x05,  // 设置色调控制参数
    
    0x20, 0x80,  // 设置光照补偿参数
    0x28, 0x30,  // 设置增益控制参数
    0x6c, 0x00,  // 设置AWB控制参数
    0x6d, 0x80,  // 设置AWB控制参数
    0x6e, 0x00,  // 设置AWB控制参数
    0x70, 0x02,  // 设置散射控制参数
    0x71, 0x94,  // 设置边缘控制参数
    0x73, 0xc1,  // 设置色调控制参数
    0x3d, 0x34,  // 设置COM13寄存器参数
    0x5a, 0x57,  // 设置BDBASE（Banding控制基础值）
    
    0x12, 0x00,  // COM7寄存器，设置UXGA分辨率(1600×1200)模式

    0x17, 0x11,  // 设置水平窗口起始高8位为0x11
    0x18, 0x75,  // 设置水平窗口起始低8位为0x75
    0x19, 0x01,  // 设置垂直窗口起始高8位为0x01
    0x1a, 0x97,  // 设置垂直窗口起始低8位为0x97
    0x32, 0x36,  // 设置HREF控制参数
    0x03, 0x0f,  // 设置曝光高位
    0x37, 0x40,  // 设置ADC控制寄存器
    
    0x4f, 0xca,  // 设置矩阵系数1
    0x50, 0xa8,  // 设置矩阵系数2
    0x5a, 0x23,  // 设置BDSTEP（Banding控制步长）
    0x6d, 0x00,  // 设置AWB控制参数
    0x6d, 0x38,  // 设置AWB控制参数

    0xff, 0x00,  // 切换回DSP寄存器组
    0xe5, 0x7f,  // 设置RASST（行平均样本阈值）
    0xf9, 0xc0,  // 设置AWB控制参数
    0x41, 0x24,  // 设置COM16寄存器参数
    0xe0, 0x14,  // 设置JPEG控制1
    0x76, 0xff,  // 设置OV连接芯片控制参数
    0x33, 0xa0,  // 设置特殊效果控制
    0x42, 0x20,  // 设置COM17寄存器，选择色彩矩阵
    0x43, 0x18,  // 设置COM17寄存器，选择YUV序列
    0x4c, 0x00,  // 设置DBLV寄存器（时钟控制）
    0x87, 0xd5,  // 设置控制寄存器87
    0x88, 0x3f,  // 设置控制寄存器88
    0xd7, 0x03,  // 设置JPEG/RGB控制
    0xd9, 0x10,  // 设置R_GAIN（红色增益）参数
    0xd3, 0x82,  // 设置COM12寄存器
    
    0xc8, 0x08,  // 设置SATCTL（饱和度控制）寄存器
    0xc9, 0x80,  // 设置RGB444控制参数
    
    0x7c, 0x00,  // 设置色调控制参数
    0x7d, 0x00,  // 设置色调控制参数
    0x7c, 0x03,  // 设置色调控制参数
    0x7d, 0x48,  // 设置色调控制参数48（72）
    0x7d, 0x48,  // 设置色调控制参数48（72）
    0x7c, 0x08,  // 设置色调控制参数
    0x7d, 0x20,  // 设置色调控制参数20（32）
    0x7d, 0x10,  // 设置色调控制参数10（16）
    0x7d, 0x0e,  // 设置色调控制参数0e（14）
    
    0x90, 0x00,  // 设置gamma曲线索引为0
    0x91, 0x0e,  // 设置gamma曲线值为0x0e
    0x91, 0x1a,  // 设置gamma曲线值为0x1a
    0x91, 0x31,  // 设置gamma曲线值为0x31
    0x91, 0x5a,  // 设置gamma曲线值为0x5a
    0x91, 0x69,  // 设置gamma曲线值为0x69
    0x91, 0x75,  // 设置gamma曲线值为0x75
    0x91, 0x7e,  // 设置gamma曲线值为0x7e
    0x91, 0x88,  // 设置gamma曲线值为0x88
    0x91, 0x8f,  // 设置gamma曲线值为0x8f
    0x91, 0x96,  // 设置gamma曲线值为0x96
    0x91, 0xa3,  // 设置gamma曲线值为0xa3
    0x91, 0xaf,  // 设置gamma曲线值为0xaf
    0x91, 0xc4,  // 设置gamma曲线值为0xc4
    0x91, 0xd7,  // 设置gamma曲线值为0xd7
    0x91, 0xe8,  // 设置gamma曲线值为0xe8
    0x91, 0x20,  // 设置gamma曲线值为0x20
    
    0x92, 0x00,  // 设置gamma曲线索引为0
    0x93, 0x06,  // 设置gamma曲线值为0x06
    0x93, 0xe3,  // 设置gamma曲线值为0xe3
    0x93, 0x05,  // 设置gamma曲线值为0x05
    0x93, 0x05,  // 设置gamma曲线值为0x05
    0x93, 0x00,  // 设置gamma曲线值为0x00
    0x93, 0x04,  // 设置gamma曲线值为0x04
    0x93, 0x00,  // 设置gamma曲线值为0x00
    0x93, 0x00,  // 设置gamma曲线值为0x00
    0x93, 0x00,  // 设置gamma曲线值为0x00
    0x93, 0x00,  // 设置gamma曲线值为0x00
    0x93, 0x00,  // 设置gamma曲线值为0x00
    0x93, 0x00,  // 设置gamma曲线值为0x00
    
    0x96, 0x00,  // 设置gamma曲线索引为0
    0x97, 0x08,  // 设置gamma曲线值为0x08
    0x97, 0x19,  // 设置gamma曲线值为0x19
    0x97, 0x02,  // 设置gamma曲线值为0x02
    0x97, 0x0c,  // 设置gamma曲线值为0x0c
    0x97, 0x24,  // 设置gamma曲线值为0x24
    0x97, 0x30,  // 设置gamma曲线值为0x30
    0x97, 0x28,  // 设置gamma曲线值为0x28
    0x97, 0x26,  // 设置gamma曲线值为0x26
    0x97, 0x02,  // 设置gamma曲线值为0x02
    0x97, 0x98,  // 设置gamma曲线值为0x98
    0x97, 0x80,  // 设置gamma曲线值为0x80
    0x97, 0x00,  // 设置gamma曲线值为0x00
    0x97, 0x00,  // 设置gamma曲线值为0x00
    
    0xc3, 0xef,  // 设置gamma曲线表
    
    0xa4, 0x00,  // 设置gamma曲线索引为0
    0xa8, 0x00,  // 设置gamma曲线值为0x00
    0xc5, 0x11,  // 设置gamma曲线表
    0xc6, 0x51,  // 设置gamma曲线表
    0xbf, 0x80,  // 设置gamma曲线值为0x80
    0xc7, 0x10,  // 设置gamma曲线表
    0xb6, 0x66,  // 设置gamma曲线值为0x66
    0xb8, 0xA5,  // 设置gamma曲线值为0xA5
    0xb7, 0x64,  // 设置gamma曲线值为0x64
    0xb9, 0x7C,  // 设置gamma曲线值为0x7C
    0xb3, 0xaf,  // 设置gamma曲线值为0xaf
    0xb4, 0x97,  // 设置gamma曲线值为0x97
    0xb5, 0xFF,  // 设置gamma曲线值为0xFF
    0xb0, 0xC5,  // 设置gamma曲线值为0xC5
    0xb1, 0x94,  // 设置gamma曲线值为0x94
    0xb2, 0x0f,  // 设置gamma曲线值为0x0f
    0xc4, 0x5c,  // 设置gamma曲线表
    
    0xc0, 0xc8,  // 设置HSIZE8位，UXGA水平尺寸高8位为0xc8
    0xc1, 0x96,  // 设置HSIZE低8位，UXGA水平尺寸低8位为0x96，完整值为0xc896=1600像素
    0x8c, 0x00,  // 设置RGB444控制参数
    0x86, 0x3d,  // 设置控制寄存器86
    0x50, 0x00,  // 设置矩阵系数1
    0x51, 0x90,  // 设置矩阵系数2，UXGA垂直尺寸高8位为0x90
    0x52, 0x2c,  // 设置矩阵系数3，UXGA垂直尺寸低8位为0x2c，完整值为0x902c=1200像素
    0x53, 0x00,  // 设置矩阵系数4
    0x54, 0x00,  // 设置矩阵系数5
    0x55, 0x88,  // 设置矩阵系数6

    0x5a, 0x90,  // 设置BDSTEP（Banding控制步长），UXGA垂直尺寸高8位
    0x5b, 0x2C,  // 设置BDSTEP（Banding控制步长），UXGA垂直尺寸低8位
    0x5c, 0x05,  // 设置Banding过滤器控制

    0xd3, 0x02,  // 设置COM12寄存器，启用自动降噪和边缘增强

    0xc3, 0xed,  // 设置鱼眼控制寄存器
    0x7f, 0x00,  // 设置BPADDR（字节处理器地址）
    
    //0xda, 0x09,  // 设置输出格式控制
    0xda, 0x08,  // #BUG 设置输出格式控制MSB或LSB，但似乎是支持YUV422
    
    0xe5, 0x1f,  // 设置行平均样本阈值
    0xe1, 0x67,  // 设置JPEG控制2
    0xe0, 0x00,  // 设置JPEG控制1
    0xdd, 0x7f,  // 设置SDE（特殊数字效果）控制
    0x05, 0x00,  // 设置COM0寄存器参数
};
/**
 * OV2640 SVGA初始化寄存器序列表
 * 此模式下,帧率可以达到30帧
 * SVGA 800*600
 */

const uint8_t ov2640_svga_init_reg_tbl[][2]= 
{    
    0xff, 0x00,
    0x2c, 0xff,
    0x2e, 0xdf,
    0xff, 0x01,
    0x3c, 0x32,

    0x11, 0x00,
    0x09, 0x02,
    //0x04, 0xD8, /* 水平镜像,垂直翻转 */
    0x04, 0x48, //不水平镜像
    0x13, 0xe5,
    0x14, 0x48,
    0x2c, 0x0c,
    0x33, 0x78,
    0x3a, 0x33,
    0x3b, 0xfB,
    
    0x3e, 0x00,
    0x43, 0x11,
    0x16, 0x10,
    
    0x39, 0x92,
    
    0x35, 0xda,
    0x22, 0x1a,
    0x37, 0xc3,
    0x23, 0x00,
    0x34, 0xc0,
    0x36, 0x1a,
    0x06, 0x88,
    0x07, 0xc0,
    0x0d, 0x87,
    0x0e, 0x41,
    0x4c, 0x00,
    0x48, 0x00,
    0x5B, 0x00,
    0x42, 0x03,
    
    0x4a, 0x81,
    0x21, 0x99,
    
    0x24, 0x40,
    0x25, 0x38,
    0x26, 0x82,
    0x5c, 0x00,
    0x63, 0x00,
    0x46, 0x22,
    0x0c, 0x3c,
    
    0x61, 0x70,
    0x62, 0x80,
    0x7c, 0x05,
    
    0x20, 0x80,
    0x28, 0x30,
    0x6c, 0x00,
    0x6d, 0x80,
    0x6e, 0x00,
    0x70, 0x02,
    0x71, 0x94,
    0x73, 0xc1,

    0x3d, 0x34, 
    0x5a, 0x57,
    
    /* 根据分辨率不同而设置*/
    0x12, 0x40,  /* SVGA 800*600 */
    0x17, 0x11,
    0x18, 0x43,
    0x19, 0x00,
    0x1a, 0x4b,
    0x32, 0x09,
    0x37, 0xc0,
    
    0x4f, 0xca,
    0x50, 0xa8,
    0x5a, 0x23,
    0x6d, 0x00,
    0x3d, 0x38,
    
    0xff, 0x00,
    0xe5, 0x7f,
    0xf9, 0xc0,
    0x41, 0x24,
    0xe0, 0x14,
    0x76, 0xff,
    0x33, 0xa0,
    0x42, 0x20,
    0x43, 0x18,
    0x4c, 0x00,
    0x87, 0xd5,
    0x88, 0x3f,
    0xd7, 0x03,
    0xd9, 0x10,
    0xd3, 0x82,
    
    0xc8, 0x08,
    0xc9, 0x80,
    
    0x7c, 0x00,
    0x7d, 0x00,
    0x7c, 0x03,
    0x7d, 0x48,
    0x7d, 0x48,
    0x7c, 0x08,
    0x7d, 0x20,
    0x7d, 0x10,
    0x7d, 0x0e,
    
    0x90, 0x00,
    0x91, 0x0e,
    0x91, 0x1a,
    0x91, 0x31,
    0x91, 0x5a,
    0x91, 0x69,
    0x91, 0x75,
    0x91, 0x7e,
    0x91, 0x88,
    0x91, 0x8f,
    0x91, 0x96,
    0x91, 0xa3,
    0x91, 0xaf,
    0x91, 0xc4,
    0x91, 0xd7,
    0x91, 0xe8,
    0x91, 0x20,
    
    0x92, 0x00,
    0x93, 0x06,
    0x93, 0xe3,
    0x93, 0x05,
    0x93, 0x05,
    0x93, 0x00,
    0x93, 0x04,
    0x93, 0x00,
    0x93, 0x00,
    0x93, 0x00,
    0x93, 0x00,
    0x93, 0x00,
    0x93, 0x00,
    
    0x96, 0x00,
    0x97, 0x08,
    0x97, 0x19,
    0x97, 0x02,
    0x97, 0x0c,
    0x97, 0x24,
    0x97, 0x30,
    0x97, 0x28,
    0x97, 0x26,
    0x97, 0x02,
    0x97, 0x98,
    0x97, 0x80,
    0x97, 0x00,
    0x97, 0x00,
    
    0xc3, 0xed,
    0xa4, 0x00,
    0xa8, 0x00,
    0xc5, 0x11,
    0xc6, 0x51,
    0xbf, 0x80,
    0xc7, 0x10,
    0xb6, 0x66,
    0xb8, 0xA5,
    0xb7, 0x64,
    0xb9, 0x7C,
    0xb3, 0xaf,
    0xb4, 0x97,
    0xb5, 0xFF,
    0xb0, 0xC5,
    0xb1, 0x94,
    0xb2, 0x0f,
    0xc4, 0x5c,
    
    /*根据分辨率不同而设置 */
    
    0xc0, 0x64,
    0xc1, 0x4B,
    0x8c, 0x00,
    0x86, 0x3D,
    0x50, 0x00,
    0x51, 0xC8,
    0x52, 0x96,
    0x53, 0x00,
    0x54, 0x00,
    0x55, 0x00,
    0x5a, 0xC8,
    0x5b, 0x96,
    0x5c, 0x00,

    0xd3, 0x02, /* auto设置要小心 */

    0xc3, 0xed,
    0x7f, 0x00,

    0xda, 0x09,

    0xe5, 0x1f,
    0xe1, 0x67,
    0xe0, 0x00,
    0xdd, 0x7f,
    0x05, 0x00,
};   
const uint8_t ov2640_yuv422_reg_tbl[][2]= 
{
    0xFF, 0x00, 
    0xDA, 0x10,
    0xD7, 0x03,
    0xDF, 0x00,
    0x33, 0x80,
    0x3C, 0x40,
    0xe1, 0x77,
    0x00, 0x00,
};
const uint8_t ov2640_jpeg_reg_tbl[][2]=
{
    0xff, 0x01, 
    0xe0, 0x14,
    0xe1, 0x77,
    0xe5, 0x1f,
    0xd7, 0x03,
    0xda, 0x10,
    0xe0, 0x00, 
};
const uint8_t ov2640_rgb565_reg_tbl[][2]=
{
    0xFF, 0x00,  // 选择寄存器组 0，通常用于设置其他寄存器
    0xDA, 0x09,  // 设置输出格式为 RGB565
    0xD7, 0x03,  // 设置图像输出模式
    0xDF, 0x02,  // 设置图像尺寸和其他参数
    0x33, 0xa0,  // 设置图像的亮度和对比度
    0x3C, 0x00,  // 关闭自动增益控制
    0xe1, 0x67,  // 设置色彩饱和度和色调

    0xff, 0x01,  // 选择寄存器组 1
    0xe0, 0x00,  // 设置图像的曝光时间
    0xe1, 0x00,  // 设置图像的增益
    0xe5, 0x00,  // 设置图像的白平衡
    0xd7, 0x00,  // 设置图像的噪声抑制
    0xda, 0x00,  // 设置图像的色彩空间
    0xe0, 0x00,  // 重新设置曝光时间
}; 
#endif


